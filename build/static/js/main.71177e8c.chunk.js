(this["webpackJsonpreact-application"]=this["webpackJsonpreact-application"]||[]).push([[0],{207:function(e,t,n){"use strict";n.r(t);var o=n(4),s=n(1),a=n.n(s),c=n(19),r=n.n(c),i=(n(95),n(16)),l=n.n(i),d=n(22),p=n(30),u=n(20),b=n(12),h=n(23),x=n(21),f=(n(97),n(7)),N=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newNoteBtn:{width:"100%",height:"55px",borderBottom:"1px solid black",borderRadius:"0px",backgroundColor:"#1a062b",color:"white","&:hover":{backgroundColor:"#88a2ce"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100%",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"}}},j=n(227),m=n(226),O=n(228),v=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},w=n(229),g=n(230),y=n(84),I=n.n(y);var k=function(e){Object(h.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).selectNote=function(t,n){return e.props.selectNote(t,n)},e.deleteNote=function(t){window.confirm("Are you sure you want to delete: ".concat(t.title))&&e.props.deleteNote(t)},e}return Object(b.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,s=n._index,a=n._note,c=n.classes,r=n.selectedNoteIndex;return Object(o.jsx)("div",{children:Object(o.jsxs)(w.a,{className:c.listItem,selected:r===s,alignItems:"flex-start",children:[Object(o.jsx)("div",{className:c.textSection,onClick:function(){return t.selectNote(a,s)},children:Object(o.jsx)(g.a,{primary:a.title,secondary:(e=a.body.substring(0,30),e.replace(/<[^>]*>?/gm,"")+"...")})}),Object(o.jsx)(I.a,{onClick:function(){return t.deleteNote(a)},className:c.deleteIcon})]})},s)}}]),n}(a.a.Component),S=Object(f.a)(v)(k),C=function(e){Object(h.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).newNote=function(){e.props.newNote()},e.selectNote=function(t,n){e.props.selectNote(t,n)},e.deleteNote=function(t){e.props.deleteNote(t)},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.notes,s=t.classes,a=t.selectedNoteIndex;return n?Object(o.jsxs)("div",{className:s.sidebarContainer,children:[Object(o.jsx)(m.a,{onClick:this.newNote,className:s.newNoteBtn,children:"New Note"}),Object(o.jsx)(j.a,{children:n.map((function(t,n){return Object(o.jsxs)("div",{children:[Object(o.jsx)(S,{_note:t,_index:n,selectedNoteIndex:a,selectNote:e.selectNote,deleteNote:e.deleteNote}),Object(o.jsx)(O.a,{})]},n)}))})]}):Object(o.jsx)("div",{children:"Loading"})}}]),n}(a.a.Component),B=Object(f.a)(N)(C),T=n(85),z=n.n(T),D=n(86),U=n.n(D),A=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},titleInput:{height:"55px",boxSizing:"border-box",border:"none",padding:"5px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#1a062b",color:"white",paddingLeft:"50px"},editIcon:{position:"absolute",left:"310px",top:"12px",color:"white",width:"10",height:"10"},editorContainer:{height:"100%",boxSizing:"border-box"}}},M=function(e){Object(h.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.setState({body:e.props.selectedNote.body,title:e.props.selectedNote.title,id:e.props.selectedNote.id})},e.componentDidUpdate=function(){e.props.selectedNote.id!==e.state.id&&e.setState({body:e.props.selectedNote.body,title:e.props.selectedNote.title,id:e.props.selectedNote.id})},e.updateBody=function(){var t=Object(p.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({body:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateTitle=function(){var t=Object(p.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({title:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.update=function(e,t,n){var o,s;return function(){function a(){o=null,n||(s=e.apply(c,r))}var c=this,r=arguments;return clearTimeout(o),o=setTimeout(a,t),n&&!o&&(s=e.apply(c,r)),s}}((function(){e.props.noteUpdate(e.state.id,{title:e.state.title,body:e.state.body})}),1500),e.state={body:"",title:"",id:""},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(o.jsxs)("div",{className:t.editorContainer,children:[Object(o.jsx)(U.a,{className:t.editIcon}),Object(o.jsx)("input",{className:t.titleInput,placeholder:"Note title..",value:this.state.title?this.state.title:"",onChange:function(t){return e.updateTitle(t.target.value)}}),Object(o.jsx)(z.a,{value:this.state.body,onChange:this.updateBody})]})}}]),n}(a.a.Component),_=Object(f.a)(A)(M),J=n(14),L=function(e){Object(h.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).componentDidMount=function(){J.b.firestore().collection("notes").onSnapshot((function(t){var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e.setState({notes:n})}))},e.selectNote=function(t,n){e.setState({selectedNoteIndex:n,selectedNote:t})},e.noteUpdate=function(e,t){J.b.firestore().collection("notes").doc(e).update({title:t.title,body:t.body,timestamp:J.b.firestore.FieldValue.serverTimestamp()})},e.newNote=Object(p.a)(l.a.mark((function t(){var n,o,s,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:"",body:""},t.next=3,J.b.firestore().collection("notes").add({title:n.title,body:n.body,timestamp:J.b.firestore.FieldValue.serverTimestamp()});case 3:return o=t.sent,s=o.id,t.next=7,e.setState({notes:[].concat(Object(d.a)(e.state.notes),[n])});case 7:a=e.state.notes.indexOf(e.state.notes.filter((function(e){return e.id===s}))[0]),e.setState({selectedNote:e.state.notes[a],selectedNoteIndex:a});case 9:case"end":return t.stop()}}),t)}))),e.deleteNote=function(){var t=Object(p.a)(l.a.mark((function t(n){var o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.notes.indexOf(n),t.next=3,e.setState({notes:e.state.notes.filter((function(e){return e!==n}))});case 3:e.state.selectedNoteIndex===o?e.setState({selectedNoteIndex:null,selectedNote:null}):e.state.notes.length>1?e.selectNote(e.state.notes[e.state.selectedNoteIndex-1],e.state.selectedNoteIndex-1):e.setState({selectedNoteIndex:null,selectedNote:null}),J.b.firestore().collection("notes").doc(n.id).delete();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={selectedNoteIndex:null,selectedNote:null,notes:null},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:"app-container",children:[Object(o.jsx)(B,{selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,selectNote:this.selectNote,deleteNote:this.deleteNote,newNote:this.newNote}),this.state.selectedNote?Object(o.jsx)(_,{selectedNote:this.state.selectedNote,selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,noteUpdate:this.noteUpdate}):null]})}}]),n}(a.a.Component);n(204);J.b.initializeApp({apiKey:"AIzaSyC5EJHfMDmqhIdjKjAXjL39XRs8npQSa60",authDomain:"notesapp-ec076.firebaseapp.com",projectId:"notesapp-ec076",storageBucket:"notesapp-ec076.appspot.com",messagingSenderId:"21769921615",appId:"1:21769921615:web:c8cb2aa70d2920f29a363a"}),r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(L,{})}),document.getElementById("root"))},95:function(e,t,n){},97:function(e,t,n){}},[[207,1,2]]]);
//# sourceMappingURL=main.71177e8c.chunk.js.map